{% import "common.html" as common -%}

{# Event card -#}
<div class="card">
  <div class="card-logo">
    {# Event icon -#}
    {% call common::logo(logo_url = logo_url, classes = "h-24 w-24 md:h-[120px] md:w-[120px] md:min-w-[120px]", size = 120, color = group_color, name = Some(group_name)) -%}
    {# End event icon -#}
  </div>

  <div class="card-content">
    <div class="card-body">
      <div>
        {# Event group name -#}
        <div class="card-header">
          <span>{{ group_name }}</span>
        </div>
        {# End event group name -#}

        {# Event title -#}
        <div class="card-title">{{ name|demoji }}</div>
        {# End event title -#}
      </div>

      <div>
        {# Event location -#}
        <div class="card-meta">
          {% match kind -%}
          {% when EventKind::InPerson -%}
          {% if let Some(location) = self.location(25) -%}
            {% call common::icon_text(icon_name = "location", text = location) -%}
          {% endif -%}
          {% when EventKind::Hybrid -%}
          <div class="flex items-center">
            {% if let Some(location) = self.location(16) -%}
              {% call common::icon_text(icon_name = "location", text = location) -%}
            {% endif -%}
            {% call common::event_badge(kind = kind, extra_classes = Some("ms-2")) -%}
          </div>
          {% when EventKind::Virtual -%}
          <div class="flex items-center">
            <img height="12"
                 width="12"
                 src="/static/images/icons/location.svg"
                 alt="Location icon"
                 class="me-2" />
            {% call common::event_badge(kind = kind, extra_classes = Some("ms-2")) -%}
          </div>
        {% endmatch -%}
      </div>
      {# End event location -#}

      {# Event date -#}
      {% if let Some(starts_at) = starts_at -%}
        <div class="card-meta">
          {% call common::icon_text(icon_name = "date", text = starts_at.with_timezone(timezone).format("%B %e Â· %l:%M %p %Z")) -%}
        </div>
      {% endif -%}
      {# End event date -#}
    </div>
  </div>
</div>
</div>
{# End event card -#}
