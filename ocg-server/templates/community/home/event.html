{% import "common.html" as common %}

{# Event card -#}
<div class="flex flex-1 flex-row items-center">
  <div class="relative">
    {# Event icon -#}
    {% call common::logo(logo_url = logo_url, classes = "h-24 w-24 md:h-[120px] md:w-[120px] md:min-w-[120px]", size = 120, color = group_color, name = Some(group_name)) %}
    {# End event icon -#}
  </div>

  <div class="min-w-0 pl-4 content-center h-full w-full">
    <div class="flex flex-col justify-between w-full h-full">
      <div>
        {# Event group -#}
        <div class="truncate leading-3 text-gray-400">
          <span class="text-xs font-semibold tracking-wide uppercase">{{ group_name }}</span>
        </div>
        {# End event group -#}

        {# Event title -#}
        <div class="font-semibold text-wrap text-black line-clamp-1 text-[0.9rem] lg:line-clamp-2 lg:h-[41px] mb-2 mt-1">
          {{ name|demoji }}
        </div>
        {# End event title -#}
      </div>

      <div>
        {# Event location -#}
        <div class="flex flex-row items-center leading-4 pt-1 lg:pt-2">
          <img class="-mt-[2px] w-3 h-3 me-2"
               height="12"
               width="12"
               src="/static/images/icons/location.svg"
               alt="Location icon" />
          {% match kind %}
          {% when EventKind::InPerson %}
          {% if let Some(location) = self.location(25) %}
            <div class="truncate text-gray-700 text-xs uppercase">{{ location }}</div>
          {% endif %}
          {% when EventKind::Hybrid %}
          {% if let Some(location) = self.location(16) %}
            <div class="truncate text-gray-700 text-xs uppercase">{{ location }}</div>
          {% endif %}
          <span class="-mt-[1px] ms-2 border text-gray-500 text-[10px] text-nowrap uppercase font-medium px-1.5 rounded-full">{{ kind }}</span>
          {% when EventKind::Virtual %}
          <span class="-mt-[1px] border text-gray-500 text-[10px] text-nowrap uppercase font-medium px-1.5 rounded-full">{{ kind }}</span>
        {% endmatch %}
      </div>
      {# End event location -#}

      {# Event date -#}
      {% if let Some(starts_at) = starts_at %}
        <div class="flex flex-row items-center leading-4 pt-1.5">
          <img class="-mt-[2px] w-3 h-3 me-2"
               height="12"
               width="12"
               src="/static/images/icons/date.svg"
               alt="Date icon" />
          <span class="truncate text-gray-700 text-xs uppercase truncate">{{ starts_at.with_timezone(timezone).format("%B %e Â· %l:%M %p %Z") }}</span>
        </div>
      {% endif %}
      {# End event date -#}
    </div>
  </div>
</div>
</div>
{# End event card -#}
