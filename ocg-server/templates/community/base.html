<!DOCTYPE html>
<html lang="en" class="h-full min-h-screen">
  <head>
    <title>{{ community.display_name }} community groups</title>
    <meta name="description"
          content="{{ community.display_name }} community groups">
    <meta name="keywords" content="community, groups, events">

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
      :root {
        --ocg-primary: {{ community.theme.primary_color }};
      }
    </style>

    {# Styles -#}
    <link rel="stylesheet" href="/static/vendor/css/leaflet.v1.9.4.min.css" />
    <link rel="stylesheet"
          href="/static/vendor/css/leaflet.markercluster.v1.5.3.min.css" />
    <link rel="stylesheet" href="/static/css/styles.css" />
    {# End styles -#}

    {# Scripts -#}
    <script type="text/javascript" src="/static/vendor/js/htmx.v2.0.4.min.js"></script>
    <script type="module" src="/static/js/common/images-gallery.js"></script>
    <script type="module"
            src="/static/js/community/explore/collapsible-filter.js"></script>
    {# End scripts -#}

    <script type="text/javascript">
      // htmx extension to remove empty values from the parameters
      htmx.defineExtension("no-empty-vals", {
        encodeParameters: (xhr, parameters, elt) => {
          const currentParameters = new URLSearchParams(parameters);

          for (const key of [...currentParameters.keys()]) {
            const value = currentParameters.get(key).trim();
            // Remove empty values or "0"
            if (value === "" || value === "0") {
              parameters.delete(key);
            }
          }

          // Let HTMX encode the parameters
          return null;
        }
      });
    </script>
  </head>
  {# djlint:off #}
  <body class='h-full {% if path == "/explore" %}bg-gray-100{% else %}bg-white{% endif %}'>
    <div class="min-h-full flex flex-col">
      <div class='{%- if path == "/" -%}bg-gray-100{%- else if path == "/explore" -%}bg-transparent{%- else -%}bg-white{%- endif -%}'>
        {# Header -#}
        {% include "community/header.html" -%}
        {# End header -#}

        {# Jumbotron -#}
        {% block jumbotron -%}
        {% endblock jumbotron -%}
        {# End jumbotron -#}
      </div>

      {# Content -#}
      <main class="grow z-[1]">
        {% block content -%}
        {% endblock content -%}
      </main>
      {# End content -#}

      {# Footer -#}
      {% include "community/footer.html" -%}
      {# End footer -#}
    </div>
  </body>
  {# djlint:on #}
</html>
