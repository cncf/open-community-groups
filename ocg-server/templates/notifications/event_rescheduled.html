{% extends "notifications/base.html" -%}
{% import "macros/email.html" as email -%}

{% block subject -%}
  Event rescheduled: {{ event.name }}
{% endblock subject -%}

{% block preheader -%}
  {{ event.name }} has a new date/time. See updated details.
{% endblock preheader -%}

{% block content -%}
  <p class="default mb-30">
    The event <strong>{{ event.name }}</strong> from
    <strong>{{ event.group_name }}</strong> has been rescheduled.
    <br />
    <br />
    {% if let Some(starts_at) = &event.starts_at -%}
      New date: {{ starts_at.with_timezone(event.timezone).format("%A, %B %e, %G Â· %I:%M %p %Z") }}
      <br />
    {% endif -%}
    {% if let Some(location) = &self.event.location(90) -%}
      Location: {{ location }}
      <br />
    {% endif -%}
    {% if let Some(meeting_join_url) = &event.meeting_join_url -%}
      Meeting link:
      <a href="{{ meeting_join_url }}"
         target="_blank"
         rel="noopener noreferrer">{{ meeting_join_url }}</a>
      <br />
      {% if let Some(meeting_password) = &event.meeting_password -%}
        Meeting password:
        <code class="ml-2 px-2 py-0.5 bg-stone-100 rounded text-stone-800">
          {{ meeting_password }}
        </code>
        <br />
      {% endif -%}
    {% endif -%}
  </p>

  {{ email::button(link = link, text = "View updated event") }}

  <p class="default mt-30 mb-15">
    Please find attached an .ics file containing the updated event details.
    <br />
    <br />
    Thanks for your understanding. Please review the updated details.
  </p>
{% endblock content -%}

{% block footer -%}
  You are receiving this because you follow {{ event.group_name }} or opted in to
  event updates. If this does not apply to you, you can ignore this message.
{% endblock footer -%}
