{% extends "common/base.html" -%}
{% import "common.html" as common -%}

{% block content -%}
  {# Skip navigation link -#}
  <a href="#dashboard-main-content"
     class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary-600 focus:text-white focus:rounded-md focus:shadow-lg">
    Skip to main content
  </a>
  {# End skip navigation link -#}

  {# Header -#}
  <nav class="bg-white fixed w-full z-20 top-0 start-0 border-b border-stone-200 h-20 drop-shadow-sm flex items-center justify-between px-3 lg:px-5"
       role="banner">
    {% include "common/header.html" -%}
  </nav>
  {# End Header -#}

  {# View for small devices -#}
  <div class="fixed inset-0 z-10 md:hidden flex items-center justify-center bg-stone-100">
    <div class="text-center bg-stone-100 border-4 border-primary-600 border-dashed rounded-lg text-2xl font-medium text-stone-800 p-10 m-10">
      This dashboard is not optimized yet for mobile devices
    </div>
  </div>
  {# End view for small devices -#}

  {# Main Content -#}
  <div class="hidden md:flex">
    {# Sticky menu -#}
    <aside class="h-dvh sticky top-0 w-[225px] lg:w-[300px]"
           role="navigation"
           aria-label="Dashboard navigation">
      <div class="flex flex-col justify-between py-5 pt-24 h-full">
        <div class="flex flex-col grow min-h-0 w-full">
          {% block menu -%}
          {% endblock menu -%}
        </div>

        <div class="w-full px-3 lg:px-5 shrink-0">
          {# Logout -#}
          <a href="/log-out"
             hx-boost="false"
             target="_self"
             class="group btn-secondary-anchor w-full inline-flex items-center justify-between p-2.5">
            <div>Log out</div>
            <div class="svg-icon size-4 icon-logout bg-primary-500 group-hover:bg-white transition-colors"></div>
          </a>
          {# End logout -#}
        </div>
      </div>
    </aside>
    {# End sticky menu -#}

    <main id="dashboard-main-content"
          class="w-[calc(100%-225px)] lg:w-[calc(100%-300px)] bg-white border border-stone-200 rounded-lg m-5 ms-0 mt-[6.25rem] relative"
          role="main">
      {% block dashboard_main -%}
      {% endblock dashboard_main -%}
    </main>
  </div>
  {# End Main Content -#}
{% endblock content -%}
