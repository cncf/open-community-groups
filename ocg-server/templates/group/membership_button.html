{# Membership button section -#}
<div id="membership-container">

  <!-- Loading spinner (shown initially) -->
  <button id="loading-btn"
          disabled
          class="group relative is-loading btn-primary-outline w-40 h-10 md:h-[30px] opacity-50 cursor-not-allowed flex items-center justify-center">
    {% import "macros/ui.html" as ui -%}
    {{ ui::spinner(size = "size-4") -}}
    <span class="ms-2">Checking...</span>
  </button>

  <!-- Sign in prompt (hidden initially) -->
  <button id="signin-btn"
          data-path="{{ path }}"
          class="hidden group btn-primary-outline-anchor w-40 h-10 md:h-[30px] flex items-center justify-center space-x-2">
    <div class="svg-icon size-3 icon-user-plus"></div>
    <span>Join group</span>
  </button>

  <!-- Join button (hidden initially) -->
  <button id="join-btn"
          hx-post="/{{ group.community.name }}/group/{{ group.group_id }}/join"
          hx-swap="none"
          class="hidden group btn-primary-outline w-40 h-10 sm:h-[30px] flex items-center justify-center space-x-2">
    <div class="svg-icon size-3 icon-user-plus"></div>
    <span>Join group</span>
  </button>

  <!-- Leave button (hidden initially) -->
  <button id="leave-btn"
          hx-delete="/{{ group.community.name }}/group/{{ group.group_id }}/leave"
          hx-trigger="confirmed"
          hx-swap="none"
          class="hidden group btn-primary-outline w-40 h-10 md:h-[30px] flex items-center justify-center space-x-2">
    <div class="svg-icon size-3 icon-logout"></div>
    <span>Leave group</span>
  </button>

  <!-- Hidden element that checks membership status -->
  <div id="membership-checker"
       hx-get="/{{ group.community.name }}/group/{{ group.group_id }}/membership"
       hx-trigger="load, membership-changed from:body"
       hx-swap="none"></div>
</div>
