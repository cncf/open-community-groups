{% import "macros/ui.html" as ui -%}

{# Menu title -#}
{% macro menu_title(text, extra_styles = "") -%}
  <div class="text-xs/6 text-stone-500 uppercase px-3 {{ extra_styles }}">{{ text }}</div>
{% endmacro menu_title -%}
{# End menu title -#}

{# Selector loading button -#}
{% macro selector_loading_button(extra_styles = "", spinner_size = "size-4") -%}
  <button type="button"
          class="select select-primary relative text-left pe-9 cursor-not-allowed {{ extra_styles }}"
          disabled
          aria-disabled="true">
    <div class="flex items-center min-h-10 ps-1">{{ ui::spinner(size = spinner_size) -}}</div>
    <div class="absolute inset-y-0 end-0 flex items-center pe-3 pointer-events-none">
      <div class="svg-icon size-3 icon-caret-down bg-stone-400"></div>
    </div>
  </button>
{% endmacro selector_loading_button -%}
{# End selector loading button -#}

{# Menu item -#}
{% macro menu_item(name, icon, is_active, href, disabled = false, extra_styles = "", icon_size = "size-4", items_count = 0 ) -%}
  {% if is_active -%}
    <div class="relative bg-white border border-stone-200 px-3 rounded-lg {{ extra_styles }}">
      <a hx-get="{{ href }}"
         hx-target="body"
         hx-indicator="#dashboard-spinner"
         hx-push-url="true"
         class="flex items-center justify-between cursor-pointer"
         aria-current="page">
        <div class="flex items-center">
          <div class="svg-icon {{ icon_size }} icon-{{ icon }} bg-primary-500"></div>
          <div class="text-sm/8 ms-3">{{ name }}</div>
        </div>
        {% if items_count + 0 > 0 -%}
          <div class="text-[0.65rem]/4 font-bold text-primary-500 border border-primary-500 bg-white rounded-full px-2 pt-px ms-3">
            {{ items_count }}
          </div>
        {% endif -%}
      </a>
      <div class="absolute top-0.5 -left-3 lg:-left-5 bottom-0.5 w-1 bg-primary-500 rounded-lg"></div>
    </div>
  {% else -%}
    {% if disabled -%}
      <button class="rounded-md px-3 border border-transparent cursor-not-allowed {{ extra_styles }} py-2"
              disabled
              aria-disabled="true"
              title="Coming soon!"
              aria-label="{{ name }} - Coming soon">
        <div class="flex items-center opacity-50">
          <div class="svg-icon {{ icon_size }} icon-{{ icon }} bg-stone-500"></div>
          <div class="text-sm/8 ms-3 text-stone-500">{{ name }}</div>
        </div>
      </button>
    {% else -%}
      <div class="rounded-md px-3 border border-transparent hover:bg-white hover:border-stone-200 transition-colors {{ extra_styles }}">
        <a hx-get="{{ href }}"
           hx-target="body"
           hx-indicator="#dashboard-spinner"
           hx-push-url="true"
           class="flex items-center justify-between cursor-pointer">
          <div class="flex items-center">
            <div class="svg-icon {{ icon_size }} icon-{{ icon }} bg-primary-500"></div>
            <div class="text-sm/8 ms-3">{{ name }}</div>
          </div>
          {% if items_count + 0 > 0 -%}
            <div class="text-[0.65rem]/4 font-bold text-primary-500 border border-primary-500 bg-white rounded-full px-2 pt-px ms-3">
              {{ items_count }}
            </div>
          {% endif -%}
        </a>
      </div>
    {% endif -%}
  {% endif -%}
{% endmacro menu_item -%}
{# End menu item -#}

{# Form title #}
{% macro form_title(title, description = "", button = "") -%}
  <div>
    <div class="text-xl lg:text-2xl font-medium text-stone-900">{{ title }}</div>
    {% if !description.is_empty() -%}
      <div class="mt-1 flex flex-wrap items-center gap-3">
        <p class="text-sm/6 text-stone-500 m-0">{{ description }}</p>
        {% if !button.is_empty() -%}
          {{ button | safe }}
        {% endif -%}
      </div>
    {% elif !button.is_empty() -%}
      <div class="mt-1">{{ button | safe }}</div>
    {% endif -%}
  </div>
{% endmacro form_title -%}
{# End form title #}
