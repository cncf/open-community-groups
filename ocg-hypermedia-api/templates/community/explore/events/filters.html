{% import "community/explore/filters.html" as macros %}

{% call macros::header("events-form") %}

{% call macros::entity_radio(Entity::Events) %}

<form
  id="events-form"
  hx-get='/explore/events'
  hx-trigger="change"
  hx-target="#entity-section"
  hx-include="[name='ts_query']"
  htmx-indicator="#spinner-entity-section"
  hx-boost="true"
>
  <!-- Type -->
  <div class="px-6 py-7 pt-5 border-b border-gray-100">
    <div
      class="font-semibold text-filterTitle text-black leading-6"
    >
      Type
    </div>
    <ul class="grid w-full gap-3 grid-cols-2 mt-3">
      <li>
        <input type="checkbox" name="kind" id="in-person" value="in-person" class="hidden peer" {% if filters.kind.contains(EventKind::InPerson.borrow()) %}checked{% endif %}>
        <label for="in-person" class="inline-flex items-center justify-between w-full p-3 text-gray-500 bg-white border rounded-lg cursor-pointer peer-checked:border-primary-500 hover:text-gray-600 peer-checked:text-primary-500 hover:bg-gray-50">
          <div class="flex w-full flex-col items-center">
            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"></path></svg>
            <div class="text-[0.825rem] mt-1.5">In-person</div>
          </div>
        </label>
      </li>
      <li>
        <input type="checkbox" name="kind" id="virtual" value="virtual" class="hidden peer" {% if filters.kind.contains(EventKind::Virtual.borrow()) %}checked{% endif %}>
        <label for="virtual" class="inline-flex items-center justify-between w-full p-3 text-gray-500 bg-white border rounded-lg cursor-pointer peer-checked:border-primary-500 hover:text-gray-600 peer-checked:text-primary-500 hover:bg-gray-50">
          <div class="flex w-full flex-col items-center">
            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M128 32C92.7 32 64 60.7 64 96V352h64V96H512V352h64V96c0-35.3-28.7-64-64-64H128zM19.2 384C8.6 384 0 392.6 0 403.2C0 445.6 34.4 480 76.8 480H563.2c42.4 0 76.8-34.4 76.8-76.8c0-10.6-8.6-19.2-19.2-19.2H19.2z"></path></svg>
            <div class="text-[0.825rem] mt-1.5">Virtual</div>
          </div>
        </label>
      </li>
    </ul>
  </div>
  <!-- End type -->

  <!-- Regions -->
  <div class="px-6 py-7 pt-5 border-b border-gray-100">
    <div class="flex justify-between items-center">
      <div
        class="font-semibold text-filterTitle text-black leading-6"
      >
        Region
      </div>
      <div>
        <button type="button" class="text-gray-700 border hover:bg-gray-700 hover:text-white focus:ring-0 focus:outline-none focus:ring-gray-300 font-medium rounded-full text-sm p-1 text-center inline-flex items-center">
          <svg class="w-3 h-3" aria-hidden="true" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M201.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 205.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"></path></svg>
        </button>
      </div>
    </div>
    <ul class="flex flex-wrap w-full gap-3 mt-3">
      {% call macros::input_label_any("region", filters.region) %}
      {% for region in filters_options.region %}
        {% call macros::input_label("checkbox", "region", region.name, region.value, filters.region) %}
      {% endfor %}
    </ul>
    <div class="mt-4 -mb-1.5">
      <button type="button" class="text-gray-500 hover:text-gray-700 focus:ring-0 focus:outline-none focus:ring-gray-300 font-medium text-xs">
        + Show more
      </button>
    </div>
  </div>
  <!-- End Regions -->

  <!-- Distance -->
  <div class="px-6 py-7 pt-5 border-b border-gray-100">
    <div class="flex justify-between items-center">
      <div
        class="font-semibold text-filterTitle text-black leading-6"
      >
        Distance
      </div>
    </div>
    <ul class="flex flex-wrap w-full gap-3 mt-3">
      {% call macros::input_label_any("distance", filters.distance) %}
      {% for distance in filters_options.distance %}
        {% call macros::input_label("radio", "distance", distance.name, distance.value, filters.distance) %}
      {% endfor %}
    </ul>
  </div>
  <!-- End distance -->

  <!-- Date -->
  <div class="px-6 py-7 pt-5">
    <div class="flex justify-between items-center">
      <div
        class="font-semibold text-filterTitle text-black leading-6"
      >
        Date
      </div>
    </div>
    <div class="flex flex-wrap gap-3 items-center mt-3">
      {% call macros::input_date("date_from", "from", filters.date_from) %}
      {% call macros::input_date("date_to", "to", filters.date_to) %}
    </div>
  </div>
  <!-- End date -->
</form>
